<div class="min-h-full">
    <app-menu></app-menu>
  
    <header class="bg-white shadow">
      <div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8">
        <p class="text-3xl font-bold tracking-tight titles-color text-right">Activités récentes</p>
      </div>
    </header>
    <main>
        <div class="mx-auto max-w-7xl py-6 sm:px-6 lg:px-8">
            <div class="background-container flex justify-between px-4 py-4 shadow-xl">
                <span class="text-3xl font-bold titles-color">Mon compte</span>
                <span class="text-3xl font-bold titles-color">{{total}} €</span>
            </div>
        </div>        
        <div class="mx-auto max-w-7xl py-6 sm:px-6 lg:px-8">
            <div class="background-container px-4 py-4 shadow-xl">
                <div class="flex items-center justify-center">
                    <input #startDateInput type="month" id="startDate" name="startDate" class="rounded-l-lg px-2 py-1 border border-gray-300" (change)="updateChart()">
                    <input #endDateInput type="month" id="endDate" name="endDate" class="rounded-r-lg px-2 py-1 border border-gray-300" (change)="updateChart()">
                </div>
                <div class="flex">
                    <div class="flex flex-col items-center w-1/2">
                        <div id="leftGraphDiv" class="py-6"></div>
                        <button (click)="openNewSpending()" class="block rounded-md bg-blue-50 w-1/2 px-3 py-2 text-sm font-medium text-blue-700 ring-1 ring-inset ring-blue-700">+ Nouvelle dépense</button>   
                    </div>
                    <div class="flex flex-col items-center w-1/2">
                        <div id="rightGraphDiv" class="py-6"></div>
                        <button (click)="openNewIncome()" class="block rounded-md bg-green-50 w-1/2 px-3 py-2 text-sm font-medium text-green-600 ring-1 ring-inset ring-green-600">+ Nouveau revenu</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="mx-auto max-w-7xl py-6 sm:px-6 lg:px-8">
          <div class="transactions">
            <div *ngFor="let transaction of all" class="transaction-item background-container shadow-xl p-4">
                <div class="col-md-6">
                  <span class="transaction-category">{{ transaction.transactionCategory }}</span>
                  <br>
                  <span class="transaction-name">{{ transaction.name }}</span>
                </div>
                <div class="col-md-6 text-right">
                  <span class="transaction-value" [ngClass]="{'positive': transaction.transactionCategory === 'spending', 'negative': transaction.transactionCategory === 'income'}">
                    {{ transaction.transactionCategory === 'spending' ? '-' : '+' }}{{ transaction.value }}
                  </span>
                  <br>
                  <span class="transaction-date">{{ transaction.date | date: 'medium' }}</span>
                </div>
              </div>
          </div>
        </div>        
    </main>
  </div>
  